<?xml version="1.0" encoding="ISO-8859-1" ?>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>

<h:body>

	<h:form id="formLink">
		<p:breadCrumb>
			<p:menuitem />
			<p:menuitem value="JSF Page" action="index.jsf" />
			<p:menuitem value="PrimeFaces Page" action="primefaces.jsf" />
		</p:breadCrumb>
	</h:form>

	<h:form id="form">
		<p:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
			<p:outputLabel>Id:</p:outputLabel>
			<p:inputText readonly="true"
				value="#{userPersonManagedBean.userPerson.id}" />

			<p:outputLabel>Name:</p:outputLabel>
			<p:inputText value="#{userPersonManagedBean.userPerson.name}"
				pt:placeholder="Insert user's name" required="true"
				requiredMessage="The Name is required!" />

			<p:outputLabel>Surname:</p:outputLabel>
			<p:inputText value="#{userPersonManagedBean.userPerson.surname}"
				pt:placeholder="Insert user's surname" required="true"
				requiredMessage="The Surname is required!" />

			<p:outputLabel>Email:</p:outputLabel>
			<p:inputText value="#{userPersonManagedBean.userPerson.email}"
				pt:placeholder="Insert user's email address!" />

			<p:outputLabel>Age:</p:outputLabel>
			<p:inputText value="#{userPersonManagedBean.userPerson.age}"
				pt:placeholder="Insert user's age!" />

			<p:outputLabel>Sex:</p:outputLabel>
			<p:selectOneMenu value="#{userPersonManagedBean.userPerson.sex}">
				<f:selectItem itemLabel="M" itemValue="MALE" />
				<f:selectItem itemLabel="F" itemValue="FEMALE" />
			</p:selectOneMenu>

			<p:outputLabel>Login:</p:outputLabel>
			<p:inputText value="#{userPersonManagedBean.userPerson.login}"
				required="true" requiredMessage="The Login is required!" />

			<p:outputLabel>Password:</p:outputLabel>
			<p:password value="#{userPersonManagedBean.userPerson.password}"
				required="true" requiredMessage="The Password is required!" />

		</p:panelGrid>
		<br />
		<br />
		<p:commandButton value="Save" ajax="false"
			action="#{userPersonManagedBean.save}" />
		<p:commandButton value="New" ajax="false"
			action="#{userPersonManagedBean.newPerson}" />
		<br />
		<br />
		</h:form>
		<h:form id="formList">
		<p:dataTable value="#{userPersonManagedBean.list}" var="user">
			<f:facet name="header">User List</f:facet>
			<p:column headerText="Id">
				<h:outputText value="#{user.id}" />
			</p:column>
			<p:column headerText="Name">
				<h:outputText value="#{user.name}" />
			</p:column>
			<p:column headerText="Surname">
				<h:outputText value="#{user.surname}" />
			</p:column>
			<p:column headerText="Email">
				<h:outputText value="#{user.email}" />
			</p:column>
			<p:column headerText="Age">
				<h:outputText value="#{user.age}" />
			</p:column>
			<p:column headerText="Sex">
				<h:outputText value="#{user.sex}" />
			</p:column>			
			<p:column headerText="Login">
				<h:outputText value="#{user.login}" />
			</p:column>
			<p:column headerText="Edit">
				<h:commandLink id="editbutton" immediate="true">
					<h:graphicImage url="resources/img/edit.png" height="25" width="25" />
					<f:setPropertyActionListener value="#{user}" 
						target="#{userPersonManagedBean.userPerson}" />
				</h:commandLink>
			</p:column>
			<p:column headerText="Delete">
				<h:commandLink id="deletebutton" immediate="true"
					action="#{userPersonManagedBean.delete}">
					<h:graphicImage url="resources/img/delete.png" height="25" width="25" />
					<f:setPropertyActionListener value="#{user}" 
						target="#{userPersonManagedBean.userPerson}" />
				</h:commandLink>
			</p:column>			

		</p:dataTable>
	</h:form>
</h:body>

</html>